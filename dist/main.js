!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const{holdButtonFactory:r}=n(1),{bootstrapGridElement:o}=n(2),{game:l}=n(3),{gameboard:s}=n(4),{playerFactory:a}=n(5),c=(document.getElementById("mainContainer"),document.getElementById("gridContainer")),i=document.getElementById("resetContainer");let d=[];const u=[["btn-primary"],["btn-warning"]],f=[["fas","fa-times","fa-2x"],["far","fa-circle","fa-2x"]];let m=s,p=[a("First","X"),a("Second","O")];l.setBoard(m),l.setPlayers(p);const g=e=>{if(!l.hasEnded()){let t=l.getTurn();e.setIcon(f[t%2]),e.setCssClass(u[t%2]);let n=((e,t=3,n=3)=>{let r=d.indexOf(e);return[r%n,Math.floor(r/t)]})(e);l.setMove(n),l.hasEnded()&&h(),console.log(l.getBoard().cells())}},h=()=>{Number.isNaN(l.winner())?alert("Tie"):alert(`Winner is: ${l.winner().name}`)},y=()=>{d.forEach(e=>{e.reset()}),l.reset()};((e=3,t=3)=>{for(let n=0;n<e;n++){let e=o("row",[],c),n=o("col",["d-flex","justify-content-center"],e.getHtmlNode());(()=>{let e=document.createElement("div");n.setChildNode(e);for(let n=0;n<t;n++){let t=r();d.push(t),t.setParent(e)}})()}})(),(()=>{let e=o("row",["my-3"],i),t=o("col",["d-flex","justify-content-center"],e.getHtmlNode());(()=>{let e=document.createElement("div");t.setChildNode(e);let n=document.createElement("button");n.addEventListener("click",y),e.appendChild(n),["btn","btn-success"].forEach(e=>{n.classList.toggle(e)});let r=(()=>{let e=document.createElement("i");return["fas","fa-redo-alt"].forEach(t=>{e.classList.toggle(t)}),e})();n.appendChild(r)})()})(),(()=>{d.forEach(e=>{e.addClickFunction(g.bind(this,e))})})(),(()=>{let e=document.getElementById("playerOne"),t=document.getElementById("playerTwo");const n=()=>{p[0].name=e.value,p[1].name=t.value};e.addEventListener("blur",n),t.addEventListener("blur",n)})()},function(e,t){e.exports={holdButtonFactory:()=>{let e=document.createElement("button"),t="btn-secondary",n="btn-secondary",r=[],o=[],l=!1;const s=()=>{l||(r.forEach(e=>{e.call()}),a(),c())},a=(r=t,o=n,s=l)=>{e.classList.toggle(o),e.classList.toggle(r)},c=()=>{l=!0};return((t,r)=>{["btn",n].forEach(t=>{e.classList.toggle(t)}),e.style.width=`${t}px`,e.style.height=`${r}px`,e.addEventListener("click",s)})(60,60),{addClickFunction:e=>{r.push(e)},addResetFunction:e=>{o.push(e)},reset:()=>{e.classList.contains(t)&&a(),t="btn-secondary",l=!1,e.childNodes.forEach(t=>{e.removeChild(t)}),o.forEach(e=>{e.call()})},setCssClass:e=>{t=e},setIcon:t=>{let n=document.createElement("i");t.forEach(e=>{n.classList.toggle(e)}),e.appendChild(n)},setParent:(t,n=e)=>{t.appendChild(n)}}}}},function(e,t){e.exports={bootstrapGridElement:(e,t,n)=>{let r=document.createElement("div");const o=(e,t=r)=>{e.forEach(e=>{t.classList.toggle(e)})},l=(e,t=r)=>{e.appendChild(t)};((e,t,n)=>{r.classList.toggle(e),o(t),l(n)})(e,t,n);return{getHtmlNode:(e=r)=>e,setCssClass:o,setChildNode:(e,t=r)=>{t.appendChild(e)},setParentNode:l}}}},function(e,t){const n=(()=>{const e=(e=n,t=l)=>t[e%t.length],t=()=>r.hasSequence()?(o=!0,s=e(),[o,e()]):r.isFull()?[o=!0]:void 0;let n=0,r=NaN,o=!1,l=NaN,s=NaN;return{getBoard:()=>r,getPlayers:()=>l,getTurn:()=>n,hasEnded:()=>o,reset:()=>{r.reset(),o=!1,n=0,s=NaN},setBoard:e=>{r=e},setMove:(o,l=r,s=e(),a=(()=>{t(),n++}))=>{Number.isNaN(l.cellAt(o))&&(l.write(o,s.token),a())},setPlayers:e=>{l=e},winner:()=>s}})();e.exports={game:n}},function(e,t){const n=((e=3,t=3)=>{const n=(e,t)=>{let n=[];for(let e=0;e<t;e++)n.push([]);return n.map(t=>{for(let n=0;n<e;n++)t.push(NaN)}),n};let r=n(e,t),o=e,l=t;return{cells:(e=r)=>e,cellAt:(e,t=r)=>{let n=t;return[...e].reverse().forEach(e=>{n=n[e]}),n},hasSequence:(e=3,t=r)=>{let n=!1;let o=new RegExp("(.)\\1{"+(e-1)+"}");return n=n||((e=o)=>{let n=!1;return t.forEach(t=>{n=n||e.test(t.join(""))}),n})()||((e=o)=>{let n=!1;for(let r=0;r<t[0].length;r++){let o=t.map(e=>e[r]).join("");n=n||e.test(o)}return n})()||((n=o)=>{let r=!1,l="";for(let n=0;n<e;n++)l+=t[n][n];return r=n.test(l)})()||((n=o)=>{let r=!1,l="";for(let n=0;n<e;n++)l+=t[n][e-1-n];return r=n.test(l)})()},isFull:()=>{return 0===[].concat.apply([],r).filter(e=>Number.isNaN(e)).length},reset:()=>{r=n(o,l)},write:(e,t,n=r)=>{let o=n;return[...e].slice(1).reverse().forEach(e=>{o=o[e]}),isNaN(o[e[0]])?(o[e[0]]=t,0):1}}})();e.exports={gameboard:n}},function(e,t){e.exports={playerFactory:(e,t)=>({name:e,token:t})}}]);
//# sourceMappingURL=main.js.map